{"metadata":{"schema":{"type":"object","allOf":[{"if":{"properties":{"recordType":{"const":"engine"}}},"then":{"required":["recordType","identifier","base","variants"],"properties":{"base":{"type":"object","title":"Base Details","required":["name","urls","classification"],"properties":{"name":{"type":"string","title":"Name","maxLength":100,"description":"The user visible name for the search engine."},"urls":{"$ref":"#/definitions/urls"},"aliases":{"type":"array","items":{"type":"string","pattern":"^[a-z\\xa1-\\uffff]*$"},"title":"Aliases","description":"An array of aliases that the user can use to search with this engine. The aliases will be prefix by '@' on desktop and potentially other platforms.","uniqueItems":true},"charset":{"type":"string","title":"Character Set","pattern":"^[a-zA-Z0-9-]*$","description":"The character set this engine uses for queries. Defaults to 'UTF=8' if not set."},"optional":{"type":"boolean","title":"Optional","description":"This search engine is presented as an option that the user may enable. It is not included in the initial list of search engines. If not specified, defaults to false."},"partnerCode":{"$ref":"#/definitions/partnerCode"},"classification":{"enum":["general","unknown"],"type":"string","title":"Classification","description":"The classification of search engine according to the main search types (e.g. general, shopping, travel, dictionary). Currently, only marking as a general search engine is supported."}},"description":"Base details for the engine."},"notes":{"type":"string","title":"Notes","pattern":"^[a-zA-Z0-9-_.() ]*$","description":"A short notes section used to potentially aid identification of this section for humans. Not intended for to be read by the application."},"variants":{"type":"array","items":{"type":"object","required":["environment"],"properties":{"urls":{"$ref":"#/definitions/urls"},"environment":{"$ref":"#/definitions/environment"},"partnerCode":{"$ref":"#/definitions/partnerCode"},"telemetrySuffix":{"type":"string","title":"Telemetry Suffix","pattern":"^[a-zA-Z0-9-]*$","description":"Suffix that is appended to the search engine identifier following a dash, i.e. `<identifier>-<suffix>`. There should always be a suffix supplied if the partner code is different."}},"dependencies":{"partnerCode":["telemetrySuffix"]}},"title":"Variants","description":"This section describes variations of this search engine that may occur depending on the user's environment. If multiple sections match a user's environment, then all matching sections are applied cumulatively in the order in the array."},"identifier":{"type":"string","title":"Identifier","pattern":"^[a-zA-Z0-9-_]*$","description":"The identifier of the search engine. This is used as an internal identifier, e.g. for saving the user's settings for the engine. It is also used to form the base telemetry id and may be extended by telemetrySuffix."},"recordType":{"$ref":"#/definitions/recordType"}}}},{"if":{"properties":{"recordType":{"const":"defaultEngines"}}},"then":{"required":["recordType","globalDefault"],"properties":{"recordType":{"$ref":"#/definitions/recordType"},"globalDefault":{"type":"string","title":"Global Default","pattern":"^[a-zA-Z0-9-_]*$","description":"The identifier of the engine that will be used as the application default if no other engines are specified as default."},"specificDefaults":{"type":"array","items":{"type":"object","oneOf":[{"required":["environment","default"]},{"required":["environment","defaultStartsWith"]},{"required":["environment","defaultPrivate"]},{"required":["environment","defaultPrivateStartsWith"]}],"properties":{"default":{"type":"string","title":"Default","pattern":"^[a-zA-Z0-9-_]*$","description":"The identifier of the engine that will be used as the application default for the associated environment."},"environment":{"$ref":"#/definitions/environment"},"defaultPrivate":{"type":"string","title":"Default - Private Mode","pattern":"^[a-zA-Z0-9-_]*$","description":"The identifier of the engine that will be used as the application default in private mode for the associated environment."},"defaultStartsWith":{"type":"string","title":"Default (Starts With)","pattern":"^[a-zA-Z0-9-_]*$","description":"This is the start of the identifier of engines that will be used as the application default for the associated environment. The configuration should ensure that any matching engines are unique in the particular environments."},"defaultPrivateStartsWith":{"type":"string","title":"Default - Private Mode (Starts With)","pattern":"^[a-zA-Z0-9-_]*$","description":"This is the start of the identifier of engines that will be used as the application default in private mode for the associated environment. The configuration should ensure that any matching engines are unique in the particular environments."}}},"title":"Filters","description":"The specific environment filters to set a different default engine. The array is ordered, when multiple entries match on environments, the later entry will override earlier entries."},"globalDefaultPrivate":{"type":"string","title":"Global Default - Private Mode","pattern":"^[a-zA-Z0-9-_]*$","description":"The identifier of the engine that will be used as the application default in private mode if no other engines are specified as default."}}}},{"if":{"properties":{"recordType":{"const":"engineOrders"}}},"then":{"required":["recordType","orders"],"properties":{"orders":{"type":"array","items":{"type":"object","required":["environment"],"properties":{"order":{"type":"array","items":{"type":"string","pattern":"^[a-zA-Z0-9-_]*\\*?$"},"title":"Engine Order","description":"The order of the engines for the associated environment. If engines are present for the user but not included in this list, they will follow after the ones in this list in alphabetical order. If an individual entry is suffixed with a star, matching is applied on a \"starts with\" basis."},"environment":{"$ref":"#/definitions/environment"}}},"title":"Orders","description":"When a user's instance matches the defined environments, the associated engine order will be applied. The array is ordered, when multiple entries match on environments, the later entry will override earlier entries."},"recordType":{"$ref":"#/definitions/recordType"}},"additionalProperties":false}}],"title":"Application Provided Search Engines Schema","properties":{"recordType":{"$ref":"#/definitions/recordType"}},"definitions":{"url":{"type":"object","properties":{"base":{"type":"string","title":"Base","description":"The PrePath and FilePath of the URL. May include variables for engines which have a variable FilePath, e.g. {searchTerm} for when a search term is within the path of the url."},"method":{"enum":["GET","POST"],"type":"string","title":"Method","pattern":"^(GET|POST)$","description":"The HTTP method to use to send the request. If not specified, defaults to GET."},"params":{"type":"array","items":{"type":"object","oneOf":[{"required":["name","value"]},{"required":["name","experimentConfig"]},{"required":["name","searchAccessPoint"]}],"title":"Parameter","properties":{"name":{"type":"string","title":"Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The parameter name"},"value":{"type":"string","title":"Value","pattern":"^[a-zA-Z0-9-_{}]*$","description":"The parameter value, this may be a static value, or additionally contain a parameter replacement, e.g. {inputEncoding}. For the partner code parameter, this field should be {pc}."},"experimentConfig":{"type":"string","title":"Experiment Configuration","pattern":"^[a-zA-Z0-9-_]*$","description":"The value for the parameter will be derived from the equivalent experiment configuration value. If not experiment is present, this parameter will not be included in the final url."},"searchAccessPoint":{"type":"object","title":"Search Access Point","properties":{"newtab":{"type":"string","title":"Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The value for the parameter when searched from the new tab page."},"homepage":{"type":"string","title":"Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The value for the parameter when searched from the homepage."},"searchbar":{"type":"string","title":"Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The value for the parameter when searched from the search bar."},"addressbar":{"type":"string","title":"Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The value for the parameter when searched from the address bar."},"contextmenu":{"type":"string","title":"Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The value for the parameter when searched from the context menu."}},"description":"A parameter whose value depends on the access point where the search was initiated."}}},"title":"Parameters","description":"The parameters for this URL."},"searchTermParamName":{"type":"string","title":"Search Term Parameter Name","pattern":"^[a-zA-Z0-9-_]*$","description":"The name of the query parameter for the search term. Automatically appended to the end of the query. This may be skipped if `{searchTerm}` is included in the base."}}},"urls":{"type":"object","title":"URLs","properties":{"search":{"$ref":"#/definitions/url","title":"Search URL","description":"The URL to use for searches"},"trending":{"$ref":"#/definitions/url","title":"Trending Suggestions URL","description":"The URL to use for tending suggestions"},"suggestions":{"$ref":"#/definitions/url","title":"Suggestions URL","description":"The URL to use for suggestions"}},"description":"The URLs associated with the search engine."},"recordType":{"enum":["engine","defaultEngines","engineOrders"],"title":"Record Type","description":"The type of details that this record contains."},"environment":{"type":"object","title":"Environment","properties":{"locales":{"type":"array","items":{"type":"string","pattern":"^([a-z]{2,3}(-[a-zA-Z]{2,})?(-macos)?|default)$","minLength":2},"title":"Locales","description":"An array of locales that this section applies to. 'default' will apply to situations where we have not been able to detect the user's locale.","uniqueItems":true},"regions":{"type":"array","items":{"type":"string","pattern":"^([a-z][a-z]|default)$","maxLength":7,"minLength":2},"title":"Regions","description":"An array of regions that this section applies to. 'default' will apply to situations where we have not been able to detect the user's region.","uniqueItems":true},"channels":{"type":"array","items":{"enum":["default","nightly","aurora","beta","release","esr"],"type":"string","pattern":"^[a-z]{0,100}$"},"title":"Release Channels","description":"An array of release channels that this section applies to (not set = everywhere).","uniqueItems":true},"experiment":{"type":"string","title":"Experiment","pattern":"^[a-zA-Z0-9-]{0,100}$","description":"The experiment that this section applies to."},"maxVersion":{"type":"string","title":"Maximum Version","pattern":"^[0-9a-z.]{0,20}$","description":"The maximum application version this section applies to (less-than comparison)."},"minVersion":{"type":"string","title":"Minimum Version","pattern":"^[0-9a-z.]{0,20}$","description":"The minimum application version this section applies to."},"applications":{"type":"array","items":{"enum":["","firefox","firefox-android","firefox-ios","focus-android","focus-ios"],"type":"string","pattern":"^[a-z-]{0,100}$"},"title":"Application Identifiers","description":"The application(s) this section applies to (default/not specified is everywhere).","uniqueItems":true},"distributions":{"type":"array","items":{"type":"string","pattern":"^[a-zA-Z0-9.-]{0,100}$"},"title":"Distributions","description":"An array of distribution identifiers that this applies to.","uniqueItems":true},"excludedLocales":{"type":"array","items":{"type":"string","pattern":"^([a-z]{2,3}(-[a-zA-Z]{2,})?(-macos)?|default)$","minLength":2},"title":"Excluded Locales","description":"An array of locales that this section should be excluded from. 'default' will apply to situations where we have not been able to detect the user's locale.","uniqueItems":true},"excludedRegions":{"type":"array","items":{"type":"string","pattern":"^([a-z]{2,3}|default)$","maxLength":7,"minLength":2},"title":"Excluded Regions","description":"An array of regions that this section should be excluded from. 'default' will apply to situations where we have not been able to detect the user's region.","uniqueItems":true},"allRegionsAndLocales":{"type":"boolean","title":"All Regions and Locales","description":"Indicates that this section applies to all regions and locales. May be modified by excludedRegions/excludedLocales."},"excludedDistributions":{"type":"array","items":{"type":"string","pattern":"^[a-zA-Z0-9.-]{0,100}$"},"title":"Excluded Distributions","description":"An array of distribution identifiers that this does not apply to.","uniqueItems":true}},"description":"Specifies details of possible user environments that the engine or variant applies to"},"partnerCode":{"type":"string","title":"Partner Code","pattern":"^[a-zA-Z0-9-_]*$","description":"The partner code for the engine or variant. This will be inserted into parameters which include '{pc}'"}},"description":"This schema contains the details to build application provided search engines shipped in some Mozilla products. The associated remote settings collection is search-config-v2. Note: the top-level properties section is only required to satisfy remoteSettings. The allOf section provides the full details of the different record types."},"signature":{"ref":"2tkwzp4u75h2l3qulihh5lg3zc","x5u":"https://content-signature-2.cdn.mozilla.net/chains/remote-settings.content-signature.mozilla.org-2024-07-20-10-02-57.chain","mode":"p384ecdsa","type":"contentsignaturepki","signature":"52rBmd2F04JFYK7_LHk6rJNRWGpVWRdVO438Y7BnJ8SD-GGKeaTapdraODdKWBzub-8QBNtjJyr-U1NPXNMbFGKqL4wOJELeCpRnApyZTRMeQuVR9rBvxHolAAYtLnHJ","signer_id":"remote-settings","public_key":"MHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEuKyb/KTNjE9WGcZH3i08cjxuVUz8s7ZZUBiwJ0tqbKEkLX8oZVdPC5e2EfGizr0XhtqEoSoLqnLJDxAGIvudgv38tl/B+VpXDStl9x+aCPcD8ApmcocbzEspb4MFsIB6"},"attachment":{"enabled":false,"required":false},"displayFields":["recordType","identifier"],"id":"search-config-v2","last_modified":1717416922712},"timestamp":1717416922458,"changes":[{"base":{"name":"Wikiccionari (oc)","urls":{"search":{"base":"https://oc.wiktionary.org/wiki/Especial:Rec\u00E8rca","searchTermParamName":"search"},"suggestions":{"base":"https://oc.wiktionary.org/w/api.php","params":[{"name":"action","value":"opensearch"},{"name":"namespace","value":"0"}],"searchTermParamName":"search"}},"classification":"unknown"},"schema":1717411323291,"variants":[{"environment":{"locales":["oc"]}}],"identifier":"wiktionary-oc","recordType":"engine","id":"7c9d2fc3-1e6b-40f6-80ad-080bd94fe24b","last_modified":1717416922458},{"base":{"name":"MercadoLibre Argentina","urls":{"search":{"base":"https://www.mercadolibre.com.ar/jm/search","searchTermParamName":"as_word"}},"classification":"unknown"},"schema":1717411267717,"variants":[{"environment":{"locales":["es-AR"]}}],"identifier":"mercadolibre-ar","recordType":"engine","id":"8111d157-e064-40fa-993d-e1d972534754","last_modified":1717416922456}]}